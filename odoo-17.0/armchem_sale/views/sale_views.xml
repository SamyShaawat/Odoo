<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>


        <record id="group_zone_2" model="res.groups">
            <field name="name">Group Zone 2</field>
        </record>

        <record id="armchem_sale_order_form" model="ir.ui.view">
            <field name="name">armchem.sale.order.form.inherit</field>
            <field name="model">sale.order</field>
            <field name="priority">5</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='action_cancel']" position="before">
                    <button name="action_compute_commission" string="Compute Commission" type="object"
                            invisible=" state not in ('sent','sale','done')"/>
                </xpath>

                <xpath expr="//field[@name='order_line']/tree/field[@name='discount']" position="after">
                    <field name="discount_amount" optional="show" widget="product_discount"
                           groups="sales_team.group_sale_salesman_all_leads"/>
                    <field name="commission_rate" optional="hide"/>
                    <field name="max_discount" optional="hide"/>
                    <field name="commission_percent" optional="show"/>
                </xpath>

                <xpath expr="//field[@name='order_line']/tree/field[@name='price_subtotal']" position="before">
                    <field name="commission_earned" optional="show"/>
                </xpath>

                <xpath expr="//field[@name='partner_shipping_id']" position="after">
                    <field name="customer_po"/>
                </xpath>

                <xpath expr="//field[@name='currency_id']" position="before">
                    <field name="zone2_price" options="{'horizontal': true}" widget="radio"
                          readonly="state in ('sale','done')"/>
                </xpath>

                <xpath expr="//field[@name='note']" position="before">
                    <field name="total_commission_earned"/>
                </xpath>
            </field>
        </record>


        <record id="armchem_sale_order_tree" model="ir.ui.view">
            <field name="name">armchem.sale.order.form.inherit</field>
            <field name="model">sale.order</field>
            <field name="priority">5</field>
            <field name="inherit_id" ref="sale.view_quotation_tree_with_onboarding"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="after">
                    <field name="partner_shipping_id"/>
                    <field name="customer_po"/>
                    <field name="pricelist_id"/>
                    <field name="payment_term_id"/>
                </xpath>
            </field>
        </record>

    </data>
</odoo>